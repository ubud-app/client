@import '../definitions/variables';

.transactions-editor {
	min-height: 73px; // min-height, otherwise multiple units may look uglyâ€¦

	&_date {
		@extend .transactions-item_date;
		background: $background;
		border: none;
		outline: none;

		&--invalid {
			background: rgba($red, 0.2);
		}
	}
	&_account {
		@extend .transactions-item_account;
		background: $background;
		padding: 5px 3px !important;

		&-select {
			width: 100%;
			border: none;
			background: transparent;
			font: inherit;
			margin-top: -2px;
		}
	}

	&_payee {
		@extend .transactions-item_payee;
		background: $background;
		padding: 0 !important;
		overflow: visible !important;
	}
	&-payee-select {
		position: relative;

		&_input,
		&_value {
			width: 100%;
			padding: 5px 10px;
			height: 32px;
			float: left;
			text-overflow: ellipsis;
			white-space: nowrap;
			overflow: hidden;
		}

		&_input {
			opacity: 0;
			border: none;

			&--visible {
				opacity: 1;
			}
		}
		&_value {
			position: absolute;
			display: block;

			&--temp {
				color: rgba($text, 0.4);
			}
			&--hidden {
				display: none;
			}
		}

		&_results-box {
			display: none;
			position: absolute;
			width: 100%;
			background: $background;
			margin-top: 32px;

			&--visible {
				display: block;
			}
		}
		&_item {
			padding: 5px 10px;
			cursor: pointer;

			&--selected {
				background: rgba($text, 0.04);
			}
		}
	}

	&_budget {
		@extend .transactions-item_budget;
		background: $background;
		padding: 5px 3px !important;

		.transactions-editor-budget-select {
			width: 100%;
			border: none;
			background: transparent;
			font: inherit;
			margin-top: -2px;
		}
	}
	&_memo {
		@extend .transactions-item_memo;
		background: $background;
		border: none;
		outline: none;
	}
	&_amount {
		@extend .transactions-item_amount;
		background: $background;
		border: none;
		outline: none;

		&:disabled {
			color: #7F7F7F;
		}

		&--positive {
			color: $primary;
		}
	}

	&_date,
	&_payee,
	&_budget,
	&_memo,
	&_amount {
		* + & {
			border-left: 1px solid darken($background, 5);
		}
	}

	&_done,
	&_cancel,
	&_delete {
		margin-top: 10px;
	}

	&_done {
		margin-left: 10px;
		float: right;
	}

	&_cancel {
		opacity: 0.6;
		float: right;
	}

	&_delete--hidden {
		visibility: hidden;
	}

	&_units {
		clear: both;
		padding: 5px 0 0 43%;
		overflow: hidden;
		transition: 0.3s opacity ease-out 0.1s;

		&--hidden {
			height: 0;
			opacity: 0;
			padding-top: 0;
			transition: 0.3s opacity ease-out 0s;
		}
	}


	&-unit {
		overflow: hidden;

		& + & {
			margin-top: 1px;
		}

		&_budget,
		&_memo,
		&_amount {
			display: block;
			padding: 5px 10px;
			width: 20%;
			height: 32px;
			float: left;
			background: $background;
			border-left: 1px solid darken($background-box, 3) !important;
		}

		&_budget {
			width: 29.824561404%;
			padding: 5px 3px !important;

			.transactions-editor-budget-select {
				width: 100%;
				border: none;
				background: transparent;
				font: inherit;
				margin-top: -2px;
			}
		}
		&_memo {
			width: 52.631578947%;
			background: $background;
			border: none;
			outline: none;
		}
		&_amount {
			width: 17.543859649%;
			background: $background;
			border: none;
			outline: none;
			text-align: right;
		}
	}

	&_unit-diff {
		@extend .transactions-editor-unit_amount;
		float: right;
		margin-top: 5px;
		color: #7F7F7F;
	}
}